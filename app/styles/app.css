@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tokens - Trahere Design System */
:root {
  /* Core Colors */
  --color-dark-base: 12 16 24; /* Deep charcoal/navy blend */
  --color-primary: 235 238 243; /* Near-white text on dark */
  --color-contrast: 15 19 28; /* Dark page background */

  /* Accent â€” muted sapphire */
  --color-accent: 76 110 168; /* #4C6EA8 */
  --color-accent-hover: 64 95 146; /* #405F92 */

  /* Support */
  --color-success: 22 163 74; /* Green for success states */
  --color-warning: 234 179 8; /* Yellow for warnings */
  --color-surface: 255 255 255; /* used for glass tint math */

  /* Background gradients */
  --gradient-hero: radial-gradient(1200px 600px at 80% -10%, rgba(76,110,168,0.35) 0%, rgba(76,110,168,0.1) 35%, transparent 70%),
                    radial-gradient(800px 500px at -10% 20%, rgba(0,0,0,0.35) 0%, transparent 60%),
                    linear-gradient(180deg, rgb(10 12 18) 0%, rgb(var(--color-contrast)) 100%);
  --gradient-section: linear-gradient(180deg, rgb(13 16 24) 0%, rgb(18 22 32) 100%);

  /* Typography */
  --font-size-fine: 0.75rem; /* text-xs */
  --font-size-copy: 1rem; /* text-base */
  --font-size-lead: 1.125rem; /* text-lg */
  --font-size-heading: 2rem; /* text-2xl */
  --font-size-display: 3rem; /* text-4xl */

  /* Shopify */
  --color-shop-pay: #5a31f4;
  --shop-pay-button--width: 100%;

  /* Layout */
  --height-nav: 3.5rem;
  --screen-height: 100vh;
  --screen-height-dynamic: 100vh;

  @media (min-width: 32em) {
    --height-nav: 4rem;
  }
  @media (min-width: 48em) {
    --height-nav: 5rem;
    --font-size-heading: 2.25rem;
    --font-size-display: 3.75rem;
  }
  @supports (height: 100svh) {
    --screen-height: 100svh;
  }
  @supports (height: 100dvh) {
    --screen-height-dynamic: 100dvh;
  }
}

@keyframes fadeInAnimation {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

shop-pay-button {
  width: 100%;
  height: 3rem;
  display: table;
}

@layer base {
  * {
    font-variant-ligatures: none;
  }

  body {
    @apply border-primary/10 bg-contrast text-primary/90 antialiased;
    background-image: var(--gradient-section);
    background-attachment: fixed;
  }

  html {
    scroll-padding-top: 10rem;
  }

  model-viewer::part(default-progress-mask) {
    display: none;
  }

  model-viewer::part(default-progress-bar) {
    display: none;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  a.active {
    @apply border-b;
  }

  .prose {
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      &:first-child {
        @apply mt-0;
      }
    }
  }
}

@layer components {
  /* Glassmorphism panels */
  .glass {
    background: rgba(var(--color-surface), 0.06);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 0 0 1px rgba(255,255,255,0.06), 0 10px 30px rgba(0,0,0,0.35);
  }
  .glass-soft {
    background: rgba(var(--color-surface), 0.04);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.05), 0 10px 24px rgba(0,0,0,0.3);
  }
  .glass-tint {
    background: linear-gradient(
        180deg,
        rgba(76,110,168,0.12),
        rgba(76,110,168,0.06)
      );
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 0 0 1px rgba(76,110,168,0.25), 0 12px 24px rgba(0,0,0,0.35);
  }

  /* Accent button */
  .btn-accent {
    @apply inline-flex items-center justify-center rounded-md px-6 py-3 font-semibold text-white transition-colors;
    background: linear-gradient(180deg, rgba(var(--color-accent), 1), rgba(var(--color-accent-hover), 1));
  }
  .btn-accent:hover { filter: brightness(1.02); }
  .btn-accent:focus-visible { outline: 2px solid rgb(var(--color-accent)); outline-offset: 2px; }

  .article {
    h2,
    h3,
    h4,
    h5,
    h6 {
      @apply font-sans text-primary;
    }
    @apply prose mx-auto mb-12 grid justify-center font-serif text-primary;
    p,
    ul,
    li {
      @apply mb-4 text-lg;
    }
    img {
      @apply md:-mx-8 lg:-mx-16;

      @media (min-width: 48em) {
        width: calc(100% + 4rem);
        max-width: 100vw;
      }
      @media (min-width: 64em) {
        width: calc(100% + 8rem);
      }
    }
  }

  .swimlane {
    @apply grid w-full snap-x snap-mandatory scroll-px-6 grid-flow-col justify-start gap-4 overflow-x-scroll px-6 pb-4;
  }
}

@layer utilities {
  /* Soft float for decorative orbs */
  @keyframes floatOrb { 0% { transform: translateY(0px); } 50% { transform: translateY(-12px); } 100% { transform: translateY(0px); } }
  .float-slow { animation: floatOrb 8s ease-in-out infinite; }
  .float-slower { animation: floatOrb 12s ease-in-out infinite; }

  /* Subtle hover motion */
  .hover-lift { transition: transform .35s ease, box-shadow .35s ease; }
  .hover-lift:hover { transform: translateY(-2px); }
  .hover-scale { transition: transform .25s ease; }
  .hover-scale:hover { transform: scale(1.015); }

  /* Tilt helper (set via inline style) */
  .will-tilt { will-change: transform; transform-style: preserve-3d; }

  /* Reveal on scroll */
  .reveal { opacity: 0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; }
  .reveal.inview { opacity: 1; transform: translateY(0); }

  /* Hero gradient background helper */
  .bg-hero {
    background-image: var(--gradient-hero);
  }

  /* Divider line subtle on dark */
  .divider-top { box-shadow: inset 0 1px 0 rgba(255,255,255,0.06); }
  .divider-bottom { box-shadow: inset 0 -1px 0 rgba(255,255,255,0.06); }

  .fadeIn {
    opacity: 0;
    animation: fadeInAnimation ease 500ms forwards;
  }

  .hiddenScroll {
    scrollbar-width: none;
    &::-webkit-scrollbar {
      display: none;
    }
  }

  .absolute-center {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
  }

  .strike {
    position: relative;
    &::before {
      content: '';
      display: block;
      position: absolute;
      width: 108%;
      height: 1.5px;
      left: -4%;
      top: 50%;
      transform: translateY(-50%);
      background: rgb(var(--color-primary));
      box-shadow: 0.5px 0.5px 0px 0.5px rgb(var(--color-contrast));
    }
  }

  .card-image {
    @apply relative flex items-center justify-center overflow-clip rounded;
    &::before {
      content: ' ';
      @apply absolute top-0 left-0 z-10 block h-full w-full rounded shadow-border;
    }
    img {
      @apply aspect-[inherit] w-full object-cover;
    }
  }
}

/* 2025 premium tokens and overrides */
:root {
  --bg-0: #060A12; --bg-1: #0B121C; --glass: rgba(255,255,255,0.06); --glass-strong: rgba(255,255,255,0.10);
  --stroke: rgba(255,255,255,0.14); --stroke-subtle: rgba(255,255,255,0.08);
  --text-1: #F5F7FA; --text-2: #B8C0CC; --accent: #5DA2FF; --accent-2: #7CF0FF; --success: #6BE675; --warning: #FFC857;
  --radius-sm: 10px; --radius-md: 16px; --radius-lg: 22px; --blur-sm: 8px; --blur-md: 14px; --blur-lg: 22px;
  --shadow-1: 0 1px 0 rgba(255,255,255,0.08) inset, 0 8px 24px rgba(0,0,0,0.35);
  --shadow-2: 0 1px 0 rgba(255,255,255,0.10) inset, 0 14px 36px rgba(0,0,0,0.45);
  --ease-out: cubic-bezier(0.16,1,0.3,1); --dur-fast: 150ms; --dur: 280ms; --dur-slow: 500ms;
}

.glass { background: var(--glass); backdrop-filter: blur(var(--blur-md)) saturate(115%); -webkit-backdrop-filter: blur(var(--blur-md)) saturate(115%); border: 1px solid var(--stroke); box-shadow: var(--shadow-1); border-radius: var(--radius-lg); }
.glass-strong { background: var(--glass-strong); backdrop-filter: blur(var(--blur-lg)) saturate(125%); -webkit-backdrop-filter: blur(var(--blur-lg)) saturate(125%); border: 1px solid rgba(125,200,255,0.28); box-shadow: var(--shadow-2); border-radius: var(--radius-lg); }
.stroke-gradient { border: 1px solid transparent; background: linear-gradient(var(--bg-1), var(--bg-1)) padding-box, linear-gradient(135deg, rgba(124,240,255,0.45), rgba(93,162,255,0.45)) border-box; border-radius: var(--radius-lg); }
.no-transparency { background: rgba(15,23,36,0.96); }
.btn-accent { border-radius: 14px; padding: 12px 18px; color: #031425; background: linear-gradient(180deg, var(--accent-2) 0%, var(--accent) 100%); box-shadow: 0 10px 24px rgba(93,162,255,0.35); transition: transform var(--dur-fast) var(--ease-out), filter var(--dur-fast) var(--ease-out); }
.btn-accent:hover { transform: translateY(-1px); filter: brightness(1.04); }
.btn-accent:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }
.bg-hero { background-image: radial-gradient(600px 300px at 50% 120px, rgba(93,162,255,0.18), transparent 60%), linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%); }
@media (prefers-reduced-transparency: reduce) { .glass, .glass-strong, .glass-soft, .glass-tint { background: rgba(15,23,36,0.96); -webkit-backdrop-filter: none; backdrop-filter: none; } }
