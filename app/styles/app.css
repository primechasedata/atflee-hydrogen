@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tokens - Trahere Design System */
:root {
  /* Core Colors - Black/Red/White Theme */
  --color-dark-base: 0 0 0; /* Pure black */
  --color-primary: 255 255 255; /* Pure white text */
  --color-contrast: 0 0 0; /* Black background */

  /* Accent â€” Red */
  --color-accent: 220 38 38; /* #DC2626 - Bold red */
  --color-accent-hover: 185 28 28; /* #B91C1C - Darker red */
  --color-accent-light: 239 68 68; /* #EF4444 - Lighter red for highlights */

  /* Support */
  --color-success: 22 163 74; /* Green for success states */
  --color-warning: 234 179 8; /* Yellow for warnings */
  --color-surface: 255 255 255; /* used for glass tint math */

  /* Background gradients */
  --gradient-hero: radial-gradient(1200px 600px at 50% -10%, rgba(220,38,38,0.15) 0%, rgba(220,38,38,0.05) 35%, transparent 70%),
                    radial-gradient(800px 500px at -10% 20%, rgba(0,0,0,0.8) 0%, transparent 60%),
                    linear-gradient(180deg, rgb(10 10 10) 0%, rgb(0 0 0) 100%);
  --gradient-section: linear-gradient(180deg, rgb(0 0 0) 0%, rgb(15 15 15) 100%);

  /* Typography */
  --font-size-fine: 0.75rem; /* text-xs */
  --font-size-copy: 1rem; /* text-base */
  --font-size-lead: 1.125rem; /* text-lg */
  --font-size-heading: 2rem; /* text-2xl */
  --font-size-display: 3rem; /* text-4xl */

  /* Shopify */
  --color-shop-pay: #5a31f4;
  --shop-pay-button--width: 100%;

  /* Layout */
  --height-nav: 3.5rem;
  --screen-height: 100vh;
  --screen-height-dynamic: 100vh;

  @media (min-width: 32em) {
    --height-nav: 4rem;
  }
  @media (min-width: 48em) {
    --height-nav: 5rem;
    --font-size-heading: 2.25rem;
    --font-size-display: 3.75rem;
  }
  @supports (height: 100svh) {
    --screen-height: 100svh;
  }
  @supports (height: 100dvh) {
    --screen-height-dynamic: 100dvh;
  }
}

@keyframes fadeInAnimation {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

shop-pay-button {
  width: 100%;
  height: 3rem;
  display: table;
}

@layer base {
  * {
    font-variant-ligatures: none;
  }

  body {
    @apply border-primary/10 bg-contrast text-primary/90 antialiased;
    background-image: var(--gradient-section);
    background-attachment: fixed;
  }

  html {
    scroll-padding-top: 10rem;
  }

  model-viewer::part(default-progress-mask) {
    display: none;
  }

  model-viewer::part(default-progress-bar) {
    display: none;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  a.active {
    @apply border-b;
  }

  .prose {
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      &:first-child {
        @apply mt-0;
      }
    }
  }
}

@layer components {
  /* Glassmorphism panels - Red accent theme */
  .glass {
    background: rgba(var(--color-surface), 0.03);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 0 0 1px rgba(255,255,255,0.08), 0 10px 30px rgba(0,0,0,0.5);
  }
  .glass-soft {
    background: rgba(var(--color-surface), 0.02);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.06), 0 10px 24px rgba(0,0,0,0.4);
  }
  .glass-tint {
    background: linear-gradient(
        180deg,
        rgba(220,38,38,0.08),
        rgba(220,38,38,0.04)
      );
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 0 0 1px rgba(220,38,38,0.3), 0 12px 24px rgba(0,0,0,0.5);
  }

  /* Accent button with shining effect */
  @keyframes btnShine {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
  }

  .btn-accent {
    @apply inline-flex items-center justify-center rounded-md px-6 py-3 font-semibold text-white transition-all;
    background: linear-gradient(
      180deg,
      rgb(var(--color-accent-light)) 0%,
      rgb(var(--color-accent)) 50%,
      rgb(var(--color-accent-hover)) 100%
    );
    background-size: 200% 100%;
    box-shadow: 0 0 20px rgba(var(--color-accent), 0.4),
                0 4px 12px rgba(0,0,0,0.6),
                inset 0 1px 0 rgba(255,255,255,0.2);
    position: relative;
    overflow: hidden;
  }

  .btn-accent::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255,255,255,0.3) 50%,
      transparent 100%
    );
    animation: btnShine 3s ease-in-out infinite;
  }

  .btn-accent:hover {
    transform: translateY(-1px);
    box-shadow: 0 0 30px rgba(var(--color-accent), 0.6),
                0 6px 16px rgba(0,0,0,0.7),
                inset 0 1px 0 rgba(255,255,255,0.3);
  }
  .btn-accent:focus-visible { outline: 2px solid rgb(var(--color-accent)); outline-offset: 2px; }

  .article {
    h2,
    h3,
    h4,
    h5,
    h6 {
      @apply font-sans text-primary;
    }
    @apply prose mx-auto mb-12 grid justify-center font-serif text-primary;
    p,
    ul,
    li {
      @apply mb-4 text-lg;
    }
    img {
      @apply md:-mx-8 lg:-mx-16;

      @media (min-width: 48em) {
        width: calc(100% + 4rem);
        max-width: 100vw;
      }
      @media (min-width: 64em) {
        width: calc(100% + 8rem);
      }
    }
  }

  .swimlane {
    @apply grid w-full snap-x snap-mandatory scroll-px-6 grid-flow-col justify-start gap-4 overflow-x-scroll px-6 pb-4;
  }
}

@layer utilities {
  /* Soft float for decorative orbs */
  @keyframes floatOrb { 0% { transform: translateY(0px); } 50% { transform: translateY(-12px); } 100% { transform: translateY(0px); } }
  .float-slow { animation: floatOrb 8s ease-in-out infinite; }
  .float-slower { animation: floatOrb 12s ease-in-out infinite; }

  /* Subtle hover motion */
  .hover-lift {
    transition: transform .35s ease, box-shadow .35s ease;
    position: relative;
  }
  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.4), 0 0 20px rgba(var(--color-accent), 0.2);
  }
  .hover-scale { transition: transform .25s ease; }
  .hover-scale:hover { transform: scale(1.02); }

  /* Glare/Shimmer effects */
  @keyframes shimmer {
    0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px rgba(var(--color-accent), 0.3), 0 0 40px rgba(var(--color-accent), 0.1); }
    50% { box-shadow: 0 0 30px rgba(var(--color-accent), 0.5), 0 0 60px rgba(var(--color-accent), 0.2); }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .shimmer-on-hover {
    position: relative;
    overflow: hidden;
  }

  .shimmer-on-hover::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      45deg,
      transparent 30%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 70%
    );
    opacity: 0;
    transition: opacity 0.3s;
  }

  .shimmer-on-hover:hover::after {
    opacity: 1;
    animation: shimmer 1.5s ease-in-out;
  }

  .pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }

  .fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
  }

  /* Glare overlay for cards */
  .card-glare {
    position: relative;
    overflow: hidden;
  }

  .card-glare::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.08),
      transparent
    );
    transition: left 0.5s ease;
  }

  .card-glare:hover::before {
    left: 100%;
  }

  /* Tilt helper (set via inline style) */
  .will-tilt { will-change: transform; transform-style: preserve-3d; }

  /* Reveal on scroll */
  .reveal { opacity: 0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; }
  .reveal.inview { opacity: 1; transform: translateY(0); }

  /* Hero gradient background helper */
  .bg-hero {
    background-image: var(--gradient-hero);
  }

  /* Divider line subtle on dark */
  .divider-top { box-shadow: inset 0 1px 0 rgba(255,255,255,0.06); }
  .divider-bottom { box-shadow: inset 0 -1px 0 rgba(255,255,255,0.06); }

  .fadeIn {
    opacity: 0;
    animation: fadeInAnimation ease 500ms forwards;
  }

  .hiddenScroll {
    scrollbar-width: none;
    &::-webkit-scrollbar {
      display: none;
    }
  }

  .absolute-center {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
  }

  .strike {
    position: relative;
    &::before {
      content: '';
      display: block;
      position: absolute;
      width: 108%;
      height: 1.5px;
      left: -4%;
      top: 50%;
      transform: translateY(-50%);
      background: rgb(var(--color-primary));
      box-shadow: 0.5px 0.5px 0px 0.5px rgb(var(--color-contrast));
    }
  }

  .card-image {
    @apply relative flex items-center justify-center overflow-clip rounded;
    &::before {
      content: ' ';
      @apply absolute top-0 left-0 z-10 block h-full w-full rounded shadow-border;
    }
    img {
      @apply aspect-[inherit] w-full object-cover;
    }
  }
}

/* 2025 premium tokens and overrides - Black/Red/White */
:root {
  --bg-0: #000000; --bg-1: #0A0A0A; --glass: rgba(255,255,255,0.03); --glass-strong: rgba(255,255,255,0.06);
  --stroke: rgba(255,255,255,0.12); --stroke-subtle: rgba(255,255,255,0.06);
  --text-1: #FFFFFF; --text-2: #CCCCCC; --accent: #DC2626; --accent-2: #EF4444; --success: #6BE675; --warning: #FFC857;
  --radius-sm: 10px; --radius-md: 16px; --radius-lg: 22px; --blur-sm: 8px; --blur-md: 14px; --blur-lg: 22px;
  --shadow-1: 0 1px 0 rgba(255,255,255,0.08) inset, 0 8px 24px rgba(0,0,0,0.6);
  --shadow-2: 0 1px 0 rgba(255,255,255,0.10) inset, 0 14px 36px rgba(0,0,0,0.7);
  --ease-out: cubic-bezier(0.16,1,0.3,1); --dur-fast: 150ms; --dur: 280ms; --dur-slow: 500ms;
}

.glass { background: var(--glass); backdrop-filter: blur(var(--blur-md)) saturate(115%); -webkit-backdrop-filter: blur(var(--blur-md)) saturate(115%); border: 1px solid var(--stroke); box-shadow: var(--shadow-1); border-radius: var(--radius-lg); }
.glass-strong { background: var(--glass-strong); backdrop-filter: blur(var(--blur-lg)) saturate(125%); -webkit-backdrop-filter: blur(var(--blur-lg)) saturate(125%); border: 1px solid rgba(220,38,38,0.3); box-shadow: var(--shadow-2); border-radius: var(--radius-lg); }
.stroke-gradient { border: 1px solid transparent; background: linear-gradient(var(--bg-1), var(--bg-1)) padding-box, linear-gradient(135deg, rgba(239,68,68,0.5), rgba(220,38,38,0.5)) border-box; border-radius: var(--radius-lg); }
.no-transparency { background: rgba(10,10,10,0.98); }
.bg-hero { background-image: radial-gradient(600px 300px at 50% 120px, rgba(220,38,38,0.15), transparent 60%), linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%); }
@media (prefers-reduced-transparency: reduce) { .glass, .glass-strong, .glass-soft, .glass-tint { background: rgba(10,10,10,0.98); -webkit-backdrop-filter: none; backdrop-filter: none; } }
